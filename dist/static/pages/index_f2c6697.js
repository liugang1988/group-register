;/*!src/pages/index/bar/index.js*/
define("src/pages/index/bar/index",function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={template:'<div class="m-box m-step"><div class="step-item" v-for="(item,index) of items" :class="{\r\n            \'z-active\':index+1<=step\r\n        }"><div class="f-tac">{{index+1}}.{{item}}</div><div class="flag"></div></div></div>',props:{step:{type:Number},items:{type:Array}}}});
;/*!src/pages/index/data/Cache.js*/
define("src/pages/index/data/Cache",function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var h=function(h){var a=h.max,v=h.load,c=h.getKey;this.load=v,this.getKey=c||function(h){return h},this.max=a||10,this.len=0,this.newest=null,this.oldest=null,this.map={},this.temp={}};h.prototype.getValue=function(h){var a=this,v=this.getKey(h),c=this.map[v];if(c)return this.sort(c),Promise.resolve({key:v,value:c.value});var t=this.temp[v];if(t)return t;var y=this.load(h).then(function(h){return a.add(v,h),{key:v,value:h}});return this.temp[v]=y,y},h.prototype.sort=function(h){this.newest&&(this.newest.next=h),this.newest=h,h.prev=this.newest,h.next=null,this.oldest&&this.oldest===h&&(this.oldest=this.oldest.next)},h.prototype.add=function(h,a){delete this.temp[h];var v=this.newest,c=this.map[h]={next:null,prev:v,value:a};v&&(v.next=c),this.newest=c,this.oldest&&(this.oldest=c),this.len<this.max?this.len+=1:this.oldest=this.oldest&&this.oldest.next},exports.default=h});
;/*!src/pages/index/data/getGroupDetail.js*/
define("src/pages/index/data/getGroupDetail",function(require,exports){"use strict";function a(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(exports,"__esModule",{value:!0});var c=require("src/utils/http"),g=a(c),_=require("src/pages/index/data/Cache"),v=a(_),h=new v.default({load:function(a){return g.default.get("/api/group/v3/auto/select/group/detail",{params:{groupId:a}})}});exports.default=h});
;/*!src/pages/index/data/getSelectGroup.js*/
define("src/pages/index/data/getSelectGroup",function(require,exports){"use strict";function a(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(exports,"__esModule",{value:!0});var c=require("src/utils/http"),g=a(c),_=require("src/pages/index/data/Cache"),v=a(_),h=new v.default({load:function(a){return g.default.get("/api/group/v3/auto/select/group",{params:{groupName:a}})}});exports.default=h});
;/*!src/pages/index/header/index.js*/
define("src/pages/index/header/index",function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={template:'<div class="m-box p-header" :class="\'p-header--\'+step"><h2>{{items[step-1]}}</h2><div class="detail" v-if="step===1">请认真填写机构入驻信息，确保资料真实性及可靠性，确定并提交。 <a class="btn--link" href="version.html" target="_blank">《版本划分对照表》</a></div><div class="detail" v-if="step===2">请认真填写机构入驻信息，确保资料真实性及可靠性，确定并提交。 <a class="btn--link" href="version.html" target="_blank">《版本划分对照表》</a></div><div class="detail" v-if="step===3">润教育将在10个工作日内完成审核，如提交信息未通过审核，请及时修改并重新提交，逾期未提交审核状态将失效。 <a class="btn--link" href="version.html" target="_blank">《版本划分对照表》</a></div><div class="detail" v-if="step===4">双方签订联盟入驻协议，确认同意后下载签署页签字盖章，工作人员1-3个工作日上门收取。 <a class="btn--link" href="version.html" target="_blank">《版本划分对照表》</a></div><div class="detail" v-if="step===5">线上支付或转账所需服务费用，经财务确认即可完成缴纳。 <a class="btn--link" href="version.html" target="_blank">《版本划分对照表》</a> <a class="btn--link" href="contract-detail.html" target="_blank">《润•教育才艺教学服务平台服务协议》</a></div><div class="detail" v-if="step===6">润教育为机构开通账号并提交网店相关资料。 <a class="btn--link" href="version.html" target="_blank">《版本划分对照表》</a> <a class="btn--link" href="contract-detail.html" target="_blank">《润•教育才艺教学服务平台服务协议》</a> <span class="openSuccess">等待开通</span></div></div>',props:{step:{type:Number},items:{type:Array}}}});
;/*!src/pages/index/step2/index.js*/
define("src/pages/index/step2/index",function(require,exports){"use strict";function a(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(exports,"__esModule",{value:!0});var c=require("src/pages/index/data/getGroupDetail"),h=a(c),v=require("src/pages/index/data/getSelectGroup"),g=a(v),b=require("src/utils/qiniuUpload"),$=a(b),y=require("src/utils/validatorMixin"),I=a(y),V=require("src/utils/validators");exports.default={mixins:[I.default],template:'<div class="m-box"><ui-form type="v" v-if="!groupId"><ui-form-item label="网店名称：" :tips="getErrorText($v.groupName, msg.groupName)" :state="$v.groupName.$error" :required="true"><ui-autocomplete class="w80" v-model="groupName" placeholder="请填写网店名称" :fetch-suggestions="_search" @select="select" @blur="$v.groupName.$touch()" @focus="$v.groupName.$reset()"></ui-autocomplete><div class="m-form-item__text"><span class="f-c-red">{{groupName.length || 0}}/30</span>字</div></ui-form-item><ui-form-item label="简介：" :tips="getErrorText($v.intro, msg.intro)" :state="$v.intro.$error"><textarea class="u-textarea w80" placeholder="请填写网店简介" v-model.trim="intro" @blur="$v.intro.$touch()" @focus="$v.intro.$reset()"></textarea><div class="m-form-item__text"><span class="f-c-red">{{intro.length || 0}}/2000</span>字</div></ui-form-item><ui-form-item label="教学科目：" :required="true" :tips="getErrorText($v.subjects, msg.subjects)" :state="$v.subjects.$error"><ui-checkbox style="padding:0" v-for="item of subjectsItems" v-model="subjects" :label="item.id" @change="$v.subjects.$touch()">{{item.name}}</ui-checkbox></ui-form-item><ui-form-item label="特色科目：" :tips="getErrorText($v.featureSubject, msg.featureSubject)" :state="$v.featureSubject.$error"><input class="u-input-text w50" type="text" placeholder="请填写特色科目" v-model.trim="featureSubject" @blur="$v.featureSubject.$touch()" @focus="$v.featureSubject.$reset()"><div class="m-form-item__text"><span class="f-c-red">{{featureSubject.length || 0}}/20</span>字</div></ui-form-item><ui-form-item label="教学地址：" :required="true" :tips="getErrorText($v.address, msg.address) || getErrorText($v.tradeVal, msg.tradeVal)" :state="$v.address.$error || $v.tradeVal.$error"><select class="u-select w15" v-model="provinceVal" @change="getCity(provinceVal)"><option value="">请选择省</option><option :value="item.name" v-for="item in province">{{item.name}}</option></select><select class="u-select w15" v-model="cityVal" @change="getDistrict(cityVal)"><option value="">请选择市</option><option :value="item.name" v-for="item in city">{{item.name}}</option></select><select class="u-select w15" v-model="districtVal" @change="getTrade(districtVal)"><option value="">请选择区</option><option :value="item.name" v-for="item in district">{{item.name}}</option></select><select class="u-select w15" v-model="tradeVal" @change="getRegion(tradeVal)"><option value="">请选择商圈</option><option :value="item.name" v-for="item in trade">{{item.name}}</option></select><input class="u-input-text w40" type="text" placeholder="请输入详细地址" v-model.trim="address" @blur="$v.address.$touch()" @focus="$v.address.$reset()"><div class="m-form-item__text"><span class="f-c-red">{{address.length || 0}}/40</span>字</div></ui-form-item><ui-form-item label="E-mail：" :tips="getErrorText($v.contactMail, msg.contactMail)" :state="$v.contactMail.$error"><input class="u-input-text w50" type="text" placeholder="请填写email" v-model="contactMail" @blur="$v.contactMail.$touch()" @focus="$v.contactMail.$reset()"></ui-form-item><ui-form-item label="联系电话：" :tips="getErrorText($v.telephone, msg.telephone)" :state="$v.telephone.$error"><input class="u-input-text w50" type="text" placeholder="座机请填写区号，如：0755-14852120" v-model="telephone" @blur="$v.telephone.$touch()" @focus="$v.telephone.$reset()"></ui-form-item><ui-form-item label="机构图片：" :tips="getErrorText($v.pics, msg.pics)" :state="$v.pics.$error"><ui-form-upload-imgs :items="pics" @remove="removeImg" @mounted="initUploadImg"></ui-form-upload-imgs></ui-form-item><ui-form-item label="负责人：" :required="true" :tips="getErrorText($v.contactName, msg.contactName)" :state="$v.contactName.$error"><input class="u-input-text w50" type="text" placeholder="请填写负责人" v-model="contactName" @blur="$v.contactName.$touch()" @focus="$v.contactName.$reset()"></ui-form-item><ui-form-item label="负责人电话：" :required="true" :tips="getErrorText($v.contactPhone, msg.contactPhone)" :state="$v.contactPhone.$error"><input class="u-input-text w50" type="text" placeholder="请填写负责人电话" v-model="contactPhone" @blur="$v.contactPhone.$touch()" @focus="$v.contactPhone.$reset()"></ui-form-item><ui-form-item><ui-button type="primary" @click.native="submit">提交</ui-button></ui-form-item></ui-form><ui-form type="v" v-else><ui-form-item label="网店名称：" :required="true">{{groupName}}<ui-button type="primary" @click.native="reSelect">重置</ui-button></ui-form-item><template v-if="info"><ui-form-item label="简介：">{{info.intro}}</ui-form-item><ui-form-item label="教学科目：">{{info.subjects}}</ui-form-item><ui-form-item label="特色科目：">{{info.featureSubject}}</ui-form-item><ui-form-item label="教学地址：">{{fullAddress}}</ui-form-item><ui-form-item label="Email：">{{info.contactMail}}</ui-form-item><ui-form-item label="联系电话：">{{info.telephone}}</ui-form-item><ui-form-item label="机构图片："><div class="m-form-upload-img"><div class="img" v-for="(item,index) of info.pics"><img :src="item.uri"></div></div></ui-form-item><ui-form-item label="负责人：">{{info.contactName}}</ui-form-item><ui-form-item label="负责人电话：">{{info.contactPhone}}</ui-form-item></template><div v-else>正在加载信息...</div><ui-form-item><ui-button type="primary" @click.native="submit">提交</ui-button></ui-form-item></ui-form></div>',props:{errorStep:{"default":!1},currentStep:{"default":1}},data:function(){return{groupId:"",groupName:"",intro:"",subjects:[],featureSubject:"",address:"",regionId:"",contactMail:"",telephone:"",contactName:"",contactPhone:"",pics:[],subjectsItems:[],areaData:[],province:[],city:[],district:[],trade:[],provinceVal:"",cityVal:"",districtVal:"",tradeVal:"",provinceIndex:null,cityIndex:null,districtIndex:null,tradeIndex:null,fullAddress:"",isInfor:!1,info:{},isSubmit:!1,isShowImageCropper:!1,uploader:{},msg:{groupName:[{type:"required",text:"网店名称不能为空！"},{type:"maxLength",text:"网店名称不能超过30字！"},{type:"noSpace",text:"网店名称不能有空格"}],intro:[{type:"maxLength",text:"网店介绍不能超过2000字！"}],subjects:[{type:"required",text:"请选择教学科目！"}],featureSubject:[{type:"maxLength",text:"特色科目不能超过20字！"},{type:"noSpace",text:"特色科目不能有空格"}],tradeVal:[{type:"required",text:"机构地址选择不能为空！"}],address:[{type:"required",text:"机构地址不能为空！"},{type:"maxLength",text:"机构地址不能超过40字！"},{type:"noSpace",text:"机构地址不能有空格"}],regionId:[{type:"required",text:"区域编号不能为空！"}],contactMail:[{type:"email",text:"请填写正确的邮箱！"}],telephone:[{type:"isLandlines",text:"请填写正确的联系电话！"}],contactName:[{type:"required",text:"负责人不能为空！"},{type:"maxLength",text:"负责人不能超过15字！"},{type:"noSpace",text:"负责人不能有空格"}],contactPhone:[{type:"required",text:"负责人电话不能为空！"},{type:"isMobile",text:"请正确填写负责人电话！"}],pics:[{type:"$each",text:"请确认是否有图片正在上传中，请稍后！"}]}}},validations:{groupName:{required:V.required,maxLength:V.maxLength(30),noSpace:V.noSpace},intro:{maxLength:function(a){return!V.required(a)||V.maxLength(2e3)(a)}},subjects:{required:V.required},featureSubject:{maxLength:function(a){return!V.required(a)||V.maxLength(20)(a)},noSpace:V.noSpace},tradeVal:{required:V.required},address:{required:V.required,maxLength:V.maxLength(40),noSpace:V.noSpace},regionId:{required:V.required},contactMail:{isEmail:function(a){return!V.required(a)||V.isEmail(a)}},telephone:{isLandlines:function(a){return!V.required(a)||V.isLandlines(a)}},contactName:{required:V.required,maxLength:V.maxLength(15),noSpace:V.noSpace},contactPhone:{required:V.required,isMobile:V.isMobile},pics:{$each:{url:{required:V.required}}},all:["groupName","intro","subjects","featureSubject","tradeVal","address","pics","regionId","contactMail","telephone","contactName","contactPhone"]},methods:{initUploadImg:function(a){var c=this;$.default(a,{UploadFile:function(a){var h=c.pics.some(function(c){return c.id===a?!0:!1});h||c.pics.push({id:a,key:"",url:"",percent:0,loaded:0})},onProgress:function(a,h){c.pics.some(function(c){return c.id===a?(c.percent=h.percent,c.loaded=h.loaded,!0):!1})},onUploaded:function(a,h,v){c.pics.some(function(c){return c.id===a?(c.key=h,c.url=v,!0):!1})},onError:function(a,h){a?c.pics.some(function(v,g){return v.id===a?(c.toast({content:"第"+(g+1)+"个文件："+h,type:"warn"}),c.pics.splice(g,1),!0):!1}):c.toast({content:h,type:"warn"})}})},removeImg:function(a){this.pics.splice(a,1)},getInfor:function(){var a=this;this.$http.get("/api/group/v3/auto/group/info").then(function(c){var h=c.data;h&&(a.isInfor=!0),2===h.applyType&&!function(){a.groupName=h.groupName,h.intro&&(a.intro=h.intro),h.featureSubject&&(a.featureSubject=h.featureSubject),h.contactMail&&(a.contactMail=h.contactMail),h.telephone&&(a.telephone=h.telephone),a.contactName=h.contactName,a.contactPhone=h.contactPhone;var c=h.subjects.split(" "),v=c.length,g=[];a.subjectsItems.forEach(function(a){for(var i=0;v>i;i++)c[i]===a.name&&g.push(a.id)}),a.subjects=g,h.pics&&(a.pics=h.pics.map(function(a){return{key:a.uri,url:a.url}})),a.address=h.address,a.regionId=h.regionId,a.getArea(a.regionId,a.areaData),a.getCity(a.provinceVal),a.getDistrict(a.cityVal),a.getTrade(a.districtVal),a.getRegion(a.tradeVal)}()},function(){})},getAreaName:function(a,c){for(var h=[],i=0,l=c.length;l>i;i++){var v=c[i];if(v.id===a)return[v.name];if(h=this.getAreaName(a,v.areas),h&&h.length)return h.unshift(v.name),h}return h},getArea:function(a,c){var h=this.getAreaName(a,c);this.provinceVal=h[0],this.tradeVal=h[3],this.districtVal=h[2],this.cityVal=h[1],this.fullAddress=h.join("")+this.info.address},getSubject:function(){var a=this;this.$http.get("/api/cbs/v3/course/category/list").then(function(c){a.subjectsItems=c.data},function(c){a.toast({content:c.statusText,type:"warn"})})},getAreaData:function(){var a=this;this.$http.get("/api/cbs/v3/area/all").then(function(c){a.areaData=c.data,a.getProvince(),a.errorStep&&a.getInfor()},function(c){a.toast({content:c.statusText,type:"warn"})})},getProvince:function(){var a=this;this.areaData.map(function(c){return a.province.push({id:c.id,name:c.name}),a.province})},getCity:function(a){if(""!==a){if(this.provinceVal){for(var c=this.areaData,h=c.length,i=0;h>i;i++)c[i].name===a&&(this.provinceIndex=i);this.city=this.areaData[this.provinceIndex].areas}}else this.city=[],this.district=[],this.trade=[],this.cityVal="",this.districtVal="",this.tradeVal=""},getDistrict:function(a){if(""!==a){if(this.provinceVal&&this.cityVal){for(var c=this.areaData[this.provinceIndex].areas,h=c.length,i=0;h>i;i++)c[i].name===a&&(this.cityIndex=i);this.district=this.areaData[this.provinceIndex].areas[this.cityIndex].areas}}else this.district=[],this.trade=[],this.districtVal="",this.tradeVal=""},getTrade:function(a){if(this.$v.tradeVal.$touch(),""!==a){if(this.provinceVal&&this.cityVal&&this.districtVal){for(var c=this.areaData[this.provinceIndex].areas[this.cityIndex].areas,h=c.length,i=0;h>i;i++)c[i].name===a&&(this.districtIndex=i);this.trade=this.areaData[this.provinceIndex].areas[this.cityIndex].areas[this.districtIndex].areas}}else this.trade=[],this.tradeVal=""},getRegion:function(a){if(this.provinceVal&&this.cityVal&&this.districtVal&&this.tradeVal){for(var c=this.areaData[this.provinceIndex].areas[this.cityIndex].areas[this.districtIndex].areas,h=c.length,i=0;h>i;i++)c[i].name===a&&(this.tradeIndex=i);this.regionId=this.areaData[this.provinceIndex].areas[this.cityIndex].areas[this.districtIndex].areas[this.tradeIndex].id}},reSelect:function(){this.groupId="",this.groupName=""},select:function(a){var c=this,v=this.groupId=a.groupId;h.default.getValue(v).then(function(d){if(d.key===v){c.info=d.value.data;var a=c.getArea(c.info.regionId,c.areaData);c.info.address=a+c.info.address}})},_search:function(){var a=this;return g.default.getValue(this.groupName).then(function(d){return d.key===a.groupName?d.value.data.map(function(a){return a.value=a.groupName,a}):null})},commit:function(a){var c=this;this.$http.post("/api/group/v3/auto/group/submit",a).then(function(){c.$emit("next"),c.isSubmit=!1},function(a){c.isSubmit=!1,c.toast({content:a.statusText,type:"warn"})})},submit:function(){var a="";if(this.groupId)a={groupId:this.groupId};else{if(this.$v.all.$touch(),this.$v.all.$error)return;a={groupName:this.groupName,intro:this.intro,subjects:this.subjects.toString(),featureSubject:this.featureSubject,address:this.address,regionId:this.regionId,contactMail:this.contactMail,telephone:this.telephone,contactName:this.contactName,contactPhone:this.contactPhone,pics:this.pics.map(function(a){return a.key}).join(",")}}this.isSubmit||(this.isSubmit=!0,this.commit(a))}},created:function(){this.getSubject(),this.getAreaData()}}});
;/*!src/pages/index/step3/index.js*/
define("src/pages/index/step3/index",function(require,exports){"use strict";function a(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(exports,"__esModule",{value:!0});var c=require("src/utils/validatorMixin"),g=a(c),h=require("src/utils/qiniuUpload"),v=a(h),y=require("src/utils/validators");exports.default={mixins:[g.default],template:'<div class="m-box"><ui-form type="v"><ui-form-item label="入驻网店数：" :tips="getErrorText($v.chainCount, msg.chainCount)" :state="$v.chainCount.$error" :required="true"><input class="u-input-text w50" type="text" placeholder="请输入整数" v-model="chainCount" @blur="$v.chainCount.$touch()" @focus="$v.chainCount.$reset()"></ui-form-item><ui-form-item label="公司名称：" :tips="getErrorText($v.organName, msg.organName)" :state="$v.organName.$error" :required="true"><input class="u-input-text w50" type="text" placeholder="例如：深圳市指尖城市网络科技有限公司" v-model="organName" @blur="$v.organName.$touch()" @focus="$v.organName.$reset()"><div class="m-form-item__text"><span class="f-c-red">{{organName.length || 0}}/30</span>字</div></ui-form-item><ui-form-item label="法定代表人：" :tips="getErrorText($v.legalPerson, msg.legalPerson)" :state="$v.legalPerson.$error" :required="true"><input class="u-input-text w50" type="text" placeholder="法定代表人" v-model="legalPerson" @blur="$v.legalPerson.$touch()" @focus="$v.legalPerson.$reset()"><div class="m-form-item__text"><span class="f-c-red">{{legalPerson.length || 0}}/15</span>字</div></ui-form-item><ui-form-item label="法人联系电话：" :tips="getErrorText($v.legalPhone, msg.legalPhone)" :state="$v.legalPhone.$error" :required="true"><input class="u-input-text w50" type="text" placeholder="法人联系电话" v-model="legalPhone" @blur="$v.legalPhone.$touch()" @focus="$v.legalPhone.$reset()"></ui-form-item><ui-form-item label="法人身份证号码：" :tips="getErrorText($v.identityCard, msg.identityCard)" :state="$v.identityCard.$error" :required="true"><input class="u-input-text w50" type="text" placeholder="法人身份证号码" v-model="identityCard" @blur="$v.identityCard.$touch()" @focus="$v.identityCard.$reset()"></ui-form-item><ui-form-item label="上传认证资料：" :tips="getErrorText($v.pics, msg.pics)" :state="$v.pics.$error" :required="true"><div class="certificate-list"><ui-form-upload-img v-for="(item,index) of pics" :id="index" :title="item.title" :url="item.url" :percent="item.percent" :status="item.status" :init-fn="initFn" @remove="removeImg"></ui-form-upload-img></div></ui-form-item><ui-form-item><ui-button type="primary" @click.native="submit">提交</ui-button></ui-form-item></ui-form></div>',props:{errorStep:{"default":!1},currentStep:{"default":2}},data:function(){return{chainCount:"",organName:"",legalPerson:"",legalPhone:"",identityCard:"",isShowImageCropper:!1,picIndex:"",pics:[{id:"",key:"",title:"营业执照副本",url:"",status:0,percent:0},{id:"",key:"",title:"法人身份证正面",url:"",status:0,percent:0},{id:"",key:"",title:"法人身份证反面",url:"",status:0,percent:0},{id:"",key:"",title:"负责人身份证正面",url:"",status:0,percent:0},{id:"",key:"",title:"负责人身份证反面",url:"",status:0,percent:0},{id:"",key:"",title:"负责人手持身份证",url:"",status:0,percent:0}],msg:{chainCount:[{type:"required",text:"请填写网店数量！"},{type:"isNNInt",text:"请填写数字！"}],organName:[{type:"required",text:"请填写公司名称！"},{type:"maxLength",text:"公司名称最多不超过30个字！"},{type:"noSpace",text:"公司名称不能出现空格！"}],legalPerson:[{type:"required",text:"请填写法定代表人！"},{type:"maxLength",text:"法定代表人最多不超过15个字！"},{type:"noSpace",text:"法定代表人不能出现空格！"}],legalPhone:[{type:"required",text:"请填写法定代表人联系电话！"},{type:"tel",text:"法定代表人联系电话填写错误！"}],identityCard:[{type:"required",text:"请填写法定代表人身份证！"},{type:"isIdCard",text:"法定代表人身份证填写错误！"},{type:"maxLength",text:"法定代表人身份证最多18位！"}],pics:[{type:"$each",text:"认证资料必须全部上传或者还有正在上传中的资料！"}]},errorText:""}},validations:{chainCount:{required:y.required,isNNInt:y.isNNInt},organName:{required:y.required,maxLength:y.maxLength(30),noSpace:y.noSpace},legalPerson:{required:y.required,maxLength:y.maxLength(15),noSpace:y.noSpace},legalPhone:{required:y.required,tel:function(a){return y.isLandlines(a)||y.isMobile(a)}},identityCard:{required:y.required,isIdCard:y.isIdCard,maxLength:y.maxLength(18)},pics:{required:y.required,$each:{url:{required:y.required}}},all:["chainCount","organName","legalPerson","legalPhone","identityCard","pics"]},methods:{initFn:function(a,c){var g=this;v.default(a,{UploadFile:function(a){var h=g.pics[c];h.id=a,h.status=1,h.percent=0,h.loaded=0,h.url="",h.key=""},onProgress:function(a,c){g.pics.some(function(g){return g.id===a?(g.percent=c.percent,!0):!1})},onUploaded:function(a,c,h){g.pics.some(function(g){return g.id===a?(g.key=c,g.url=h,g.status=2,!0):!1})},onError:function(a,c){a?g.pics.some(function(h,v){return h.id===a?(g.toast({content:"第"+(v+1)+"个文件："+c,type:"warn"}),g.pics.splice(v,1),!0):!1}):g.toast({content:c,type:"warn"})}})},removeImg:function(a){this.pics.splice(a,1)},submit:function(){var a=this;this.$v.all.$touch(),this.$v.all.$error||this.isSubmit||(this.isSubmit=!0,this.$http.post("/api/group/v3/auto/organ/submit",{chainCount:this.chainCount,organName:this.organName,legalPerson:this.legalPerson,legalPhone:this.legalPhone,identityCard:this.identityCard,bizLicense:this.pics[0].key,legalCardFront:this.pics[1].key,legalCardRev:this.pics[2].key,contactCardFront:this.pics[3].key,contactCardRev:this.pics[4].key,contactCardHand:this.pics[5].key}).then(function(){a.isSubmit=!1,a.$emit("next")},function(c){a.toast({content:c.statusText,type:"warn"}),a.isSubmit=!1}))},getInfor:function(){var a=this;this.$http.get("/api/group/v3/auto/organ/info").then(function(c){var g=c.data;a.chainCount=g.chainCount,a.organName=g.organName,a.legalPerson=g.legalPerson,a.legalPhone=g.legalPhone,a.identityCard=g.identityCard,g.bizLicense&&(a.pics[0].status=2,a.pics[0].key=g.bizLicense,a.pics[0].url=g.bizLicenseUrl),g.legalCardFront&&(a.pics[1].status=2,a.pics[1].key=g.legalCardFront,a.pics[1].url=g.legalCardFrontUrl),g.legalCardRev&&(a.pics[2].status=2,a.pics[2].key=g.legalCardRev,a.pics[2].url=g.legalCardRevUrl),g.contactCardFront&&(a.pics[3].status=2,a.pics[3].key=g.contactCardFront,a.pics[3].url=g.contactCardFrontUrl),g.contactCardRev&&(a.pics[4].status=2,a.pics[4].key=g.contactCardRev,a.pics[4].url=g.contactCardRevUrl),g.contactCardHand&&(a.pics[5].status=2,a.pics[5].key=g.contactCardHand,a.pics[5].url=g.contactCardHandUrl)},function(c){a.toast({content:c.statusText,type:"warn"})})}},created:function(){this.errorStep&&this.getInfor()}}});
;/*!src/pages/index/step4/index.js*/
define("src/pages/index/step4/index",function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={template:'<div class="m-box"><ui-form type="v" v-if="info && domain"><ui-form-item label="上传认证资料："><a class="certificate" :href="domain+\'/\'+info.bizLicense" target="_blank"><img :src="domain+\'/\'+info.bizLicense"> 营业执照副本 </a><a class="certificate" :href="domain+\'/\'+info.legalCardFront" target="_blank"><img :src="domain+\'/\'+info.legalCardFront"> 法人身份证正面 </a><a class="certificate" :href="domain+\'/\'+info.legalCardRev" target="_blank"><img :src="domain+\'/\'+info.legalCardRev"> 法人身份证反面 </a><a class="certificate" :href="domain+\'/\'+info.contactCardHand" target="_blank"><img :src="domain+\'/\'+info.contactCardHand"> 负责人身份证正面 </a><a class="certificate" :href="domain+\'/\'+info.contactCardFront" target="_blank"><img :src="domain+\'/\'+info.contactCardFront"> 负责人身份证反面 </a><a class="certificate" :href="domain+\'/\'+info.contactCardRev" target="_blank"><img :src="domain+\'/\'+info.contactCardRev"> 负责人手持身份证</a></ui-form-item><ui-form-item label="公司名称："><div>{{info.organName}}</div></ui-form-item><ui-form-item label="店铺名称："><div>{{info.groupName}}</div></ui-form-item><ui-form-item label="简介："><div>{{info.intro}}</div></ui-form-item><ui-form-item label="教学科目："><div>{{info.subjects}}</div></ui-form-item><ui-form-item label="特色科目："><div>{{info.featureSubject}}</div></ui-form-item><ui-form-item label="教学地址："><div>{{address}}</div></ui-form-item><ui-form-item label="E-mail："><div>{{info.contactMail}}</div></ui-form-item><ui-form-item label="联系电话："><div>{{info.telephone}}</div></ui-form-item><ui-form-item label="法定代表人："><div>{{info.legalPerson}}</div></ui-form-item><ui-form-item label="法人联系电话："><div>{{info.legalPhone}}</div></ui-form-item><ui-form-item label="入驻网店数："><div>{{info.chainCount}}</div></ui-form-item></ui-form><div v-else>正在加载...</div></div>',data:function(){return{info:{},domain:"",address:""}},methods:{getAreaData:function(){var a=this;this.$http.get("/api/cbs/v3/area/all").then(function(c){a.areaData=c.data;var v=a.getAreaName(a.info.regionId,a.areaData);a.address=v.join("")+a.info.address},function(c){a.toast({content:c.statusText,type:"warn"})})},getAreaName:function(a,c){for(var v=[],i=0,l=c.length;l>i;i++){var g=c[i];if(g.id===a)return[g.name];if(v=this.getAreaName(a,g.areas),v&&v.length)return v.unshift(g.name),v}return v}},created:function(){var a=this;this.$http.get("/api/group/v3/auto/audit/info").then(function(c){a.info=c.data,a.getAreaData()},function(c){a.toast({content:c.statusText,type:"warn"})}),this.$http.get("/api/cbs/v6/upload/token").then(function(c){a.domain=c.data[0].accessUrl})}}});
;/*!src/pages/index/step5/index.js*/
define("src/pages/index/step5/index",function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={template:'<div class="m-box p-step5"><h2>润•教育才艺教学服务平台服务协议签署页</h2><div class="f-clearfix"><div class="left"><p>甲方：深圳市指尖城市网络科技有限公司</p><p>地址：广东省深圳市南山区高新技术产业园北区清华信息港科研楼306-307</p><p>电话：0755-83592001</p></div><div class="right"><p>乙方：{{info.groupName}}</p><p>地址：<span v-text="address"></span></p><p>电话：{{info.telephone}}</p></div></div><h3>一、协议内容简述</h3><p>甲乙双方已仔细阅读、协商《润•教育才艺教学服务平台服务协议》（以下简称服务协议）及其所有附件的相关内容，对于各条款， 尤其是加粗条款，甲乙双方相互之间已进行充分的解释和沟通，双方同意遵守服务协议的相关约定：</p><p class="pl20">1、	甲方遵照服务协议之约定，履行己方的责任并向乙方提供相应服务；<br>2、	乙方遵照服务协议之约定，履行己方的责任并接受甲方在润•教育上的管理；<br>3、	乙方向甲方支付网店注册费及技术服务费，可直接通过线上支付，或是通过银行转账的方式支付，甲方的银行账号信息：<br>开户名称：<br>开户行：<br>账号：<br>4、	乙方需按服务协议中的约定按时足额以上费用，仅当甲方确认收到以上款项后才会为乙方开通润•教育账户及提供相应服务。</p><h3>二、法律效力</h3><p class="ti2">1、服务协议是已经公示于润•教育官网及润•教育APP上，乙方在成功入驻润•教育后也可在自己的【润•教育联盟运营管理平台】中查阅到服务协议及其相关服务件的全部内容。</p><p class="ti2">2、服务协议是自乙方在润•教育上勾选【我已阅读并认可本协议的全部内容】并点击确定后即时生效，此签署页仅作为双方就服务协议签字盖章存档的补充文件，双方有无在此签署页上签字盖章都不影响双方已签署服务协议的法律效力。</p><h3>三、其它约定</h3><p class="pl20">1、本签署页壹式贰份，甲、乙双方各执壹份用于存档；</p><p class="pl20">2、甲、乙双方在下述相应位置签字盖章：</p><div class="f-clearfix"><div class="left"><p>甲方（盖章）：深圳市指尖城市网络科技有限公司</p><p>法人或授权代表人（签字）：<br></p><p>日期：年月日</p></div><div class="right"><p>乙方（盖章）：</p><p>法人或授权代表人（签字）：</p><p>日期：年月日</p></div></div><div class="f-mt20"><ui-checkbox v-model="checked">我已阅读并认可本协议的全部内容</ui-checkbox></div><div class="f-tac"><ui-button style="margin-right:20px" type="primary" :disabled="checked && !checked.length" @click.native="submit">确认</ui-button><ui-button type="primary" @click.native="download">下载</ui-button></div></div>',data:function(){return{isSubmit:!1,checked:[],info:{},address:""}},methods:{getAreaData:function(){var a=this;this.$http.get("/api/cbs/v3/area/all").then(function(c){a.areaData=c.data;var h=a.getAreaName(a.info.regionId,a.areaData);a.address=h.join("")+a.info.address},function(c){a.toast({content:c.statusText,type:"warn"})})},getAreaName:function(a,c){for(var h=[],i=0,l=c.length;l>i;i++){var v=c[i];if(v.id===a)return[v.name];if(h=this.getAreaName(a,v.areas),h&&h.length)return h.unshift(v.name),h}return h},submit:function(){var a=this;return this.checked.length?void(this.isSubmit||(this.isSubmit=!0,this.$http.get("/api/group/v3/auto/contract/agree").then(function(){a.isSubmit=!1,a.$emit("next")},function(c){a.toast({content:c.statusText,type:"warn"}),a.isSubmit=!1}))):void this.alert({title:"提示",content:"您还没有同意合同内容!",callback:function(){this.visible=!1}})},download:function(){window.open("/api/group/v10/auto/contract/download")}},created:function(){var a=this;this.$http.get("/api/group/v3/auto/contract/data").then(function(c){a.info=c.data,a.getAreaData()},function(c){a.toast({content:c.statusText,type:"warn"})})}}});
;/*!src/pages/index/step6/index.js*/
define("src/pages/index/step6/index",function(require,exports){"use strict";function a(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(exports,"__esModule",{value:!0});var c=require("src/utils/qiniuUpload"),v=a(c);exports.default={template:'<div class="m-box p-step6"><div class="pay-item"><div class="f-c-black">请选择支付方式</div><div class="f-mt20"><ui-radio v-model="type" :label="1"><span class="zfb"></span></ui-radio><ui-radio v-model="type" :label="2"><span class="wx"></span></ui-radio><ui-radio v-model="type" :label="0"><span class="transfer">对公转账</span></ui-radio></div></div><div class="pay-item"><div class="f-c-black">员工工号（可选）</div><div class="f-mt20"><input v-model="staffNo" class="u-input-text" style="width: 350px" type="text" placeholder="业务员工号，联系业务员填写"></div></div><div class="pay-item"><div class="f-c-black">发票信息</div><div class="f-mt20"><ui-radio v-model="needInvoice" :label="0"><span class="transfer">不开具发票</span></ui-radio><ui-radio v-model="needInvoice" :label="1"><span class="transfer">普通发票</span></ui-radio></div></div><div class="pay-item" v-show="needInvoice"><div class="f-c-black">发票抬头</div><div class="f-mt20"><input class="u-input-text" v-model="invoiceInfo" style="width: 350px" type="text"></div></div><div class="f-clearfix"><ui-form-upload-imgs class="f-fl f-mt20" v-show="!type" :items="pics" :shownum="1" @remove="removeImg" @mounted="initUploadImg"></ui-form-upload-imgs><div class="pay-infor" v-if="info"><template v-if="!type"><div class="f-mt10"><span class="f-c-gray">开户银行：</span> <span class="f-c-black">{{info.accountBank}}</span></div><div class="f-mt10"><span class="f-c-gray">开户名称：</span> <span class="f-c-black">{{info.accountName}}</span></div><div class="f-mt10"><span class="f-c-gray">银行卡号：</span> <span class="f-c-black">{{info.bankNO}}</span></div><div class="f-mt10"><span class="f-c-red">请在备注写机构的名称，并截图给我们</span></div><hr></template><div class="f-mt20"><span class="f-c-gray">{{info.chainCount}}家网店注册费：</span> <span>￥</span> <span class="f-big" v-text="getTotal(info.registerPrice, info.chainCount)"></span></div><div class="f-mt20"><span class="f-c-gray">{{info.chainCount}}家网店服务费：</span> <s class="f-c-gray">￥<span v-text="getTotal(info.technoPrice, info.chainCount)"></span></s> <span>￥</span> <span class="f-big">0</span></div><div class="f-mt10"><span class="f-c-black">应付总额：￥</span> <span class="price" v-text="getTotal(info.totalPrice, 1)"></span></div><ui-button type="primary" @click.native="submit">确定</ui-button></div></div><div style="display:none"><ui-dialog title="扫码支付" :visible="isShowPay" @close="isShowPay=false"><img :src="payQRcodeUri" v-if="payQRcodeUri"><ui-button type="primary" @click.native="paySuccess">支付成功</ui-button><ui-button type="gray" @click.native="payFail">支付失败</ui-button><ui-button type="link" @click.native="payChange">其它支付方式</ui-button></ui-dialog></div></div>',data:function(){return{isSubmit:!1,info:{},type:1,staffNo:"",invoiceInfo:"",imgkey:"",pics:[],needInvoice:0,isShowImageCropper:!1,isShowPay:!1,isSearch:!1,payQRcodeUri:""}},methods:{initUploadImg:function(a){var c=this;v.default(a,{UploadFile:function(a){var v=c.pics.some(function(c){return c.id===a?!0:!1});v||c.pics.push({id:a,key:"",url:"",percent:0,loaded:0})},onProgress:function(a,v){c.pics.some(function(c){return c.id===a?(c.percent=v.percent,c.loaded=v.loaded,!0):!1})},onUploaded:function(a,v,y){c.pics.some(function(c){return c.id===a?(c.key=v,c.url=y,!0):!1})},onError:function(a,v){a?c.pics.some(function(y,h){return y.id===a?(c.toast({content:"第"+(h+1)+"个文件："+v,type:"warn"}),c.pics.splice(h,1),!0):!1}):c.toast({content:v,type:"warn"})}})},removeImg:function(){this.pics=[]},submit:function(){var a=this;if(!this.isSubmit){if(this.needInvoice&&!this.invoiceInfo)return void this.alert({title:"提示",content:"请填写发票抬头"});if(this.type)this.isSubmit=!0,this.$http.post("/api/group/v10/auto/order/create",{payType:this.type,staffNo:this.staffNo,invoiceInfo:this.invoiceInfo}).then(function(c){a.isSubmit=!1;var v=c.data;a.payQRcodeUri=v.payQRcodeUri||"",a.isShowPay=!0},function(c){a.isSubmit=!1,a.toast({content:c.statusText,type:"warn"})});else{if(!this.pics.length)return void this.alert({title:"提示",content:"请填上传截图"});if(!this.pics[0].url)return void this.alert({title:"提示",content:"请检查图片是否正在上传，请稍后"});this.isSubmit=!0,this.$http.post("/api/group/v10/auto/order/transfer/upload",{imgkey:this.pics[0].key,staffNo:this.staffNo,invoiceInfo:this.invoiceInfo}).then(function(){a.isSubmit=!1,a.$emit("next")},function(c){a.isSubmit=!1,a.toast({content:c.statusText,type:"warn"})})}}},paySuccess:function(){var a=this;this.isSearch=!1,this.$http.get("/api/group/v10/auto/order/pay/status").then(function(c){a.isSearch=!1;var v=c.data.status;1===v&&a.$emit("next"),a.isShowPay=!1},function(c){a.isSearch=!1,a.isShowPay=!1,a.toast({content:c.statusText,type:"warn"})})},payFail:function(){this.paySuccess()},payChange:function(){this.isShowPay=!1},getTotal:function(p,n){return p*n}},created:function(){var a=this;this.$http.get("/api/group/v10/auto/order/pay/info").then(function(c){a.info=c.data},function(c){a.toast({content:c.statusText,type:"warn"})})}}});
;/*!src/pages/index/step7/index.js*/
define("src/pages/index/step7/index",function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={template:'<div class="complete-con m-box"><h3 class="f-c-black">联盟九大服务</h3><div class="f-mt20">（一）为联盟机构提供联盟品牌授权服务：<br>（二）为联盟机构提供平台展示服务：<br>（三）为联盟机构提供IT支撑服务。<br>（四）为联盟机构提供引流服务：<br>（五）为联盟机构提供增值服务：<br>（六）为联盟机构提供促销服务：<br>（七）为联盟机构提供新产品开发服务：<br>（八）为联盟机构提供营销顾问服务：<br>（九）为联盟机构提供网络结算服务。 <a class="btn--link" target="_blank" href="https://www.runjiaoyu.com.cn/">查看联盟九大服务详情</a></div></div>'}});
;/*!src/pages/index/index.js*/
define("src/pages/index/index",function(require){"use strict";function c(c){return c&&c.__esModule?c:{"default":c}}var a=require("node_modules/vue/dist/vue"),S=c(a),h=require("src/utils/global"),g=c(h),v=require("src/pages/index/header/index"),w=c(v),b=require("src/pages/index/bar/index"),T=c(b),I=require("src/pages/index/step2/index"),k=c(I),y=require("src/pages/index/step3/index"),R=c(y),_=require("src/pages/index/step4/index"),U=c(_),B=require("src/pages/index/step5/index"),C=c(B),H=require("src/pages/index/step6/index"),M=c(H),$=require("src/pages/index/step7/index"),j=c($);S.default.use(g.default),new S.default({el:"#wrap",components:{uiStepHeader:w.default,uiBar:T.default,uiStep1:k.default,uiStep2:R.default,uiStep3:U.default,uiStep4:C.default,uiStep5:M.default,uiStep6:j.default},data:{isInit:!0,items:["提交申请","补充资料","资质审核","签署合同","支付","完成"],isShowImageCropper:!1,errorStep:0,currentStep:0,refuseReason:"",nextStep:0,loginUrl:location.protocol+"//"+location.host.replace("www.","group.")+"/frame.html"},computed:{componentId:function(){return"ui-step"+this.currentStep}},methods:{next:function(){this.currentStep<this.nextStep?this.currentStep=this.nextStep:this.currentStep++,window.scrollTo(0,0)}},created:function(){var c=this;this.$http.get("/api/group/v3/auto/get/currentstep").then(function(a){c.isInit=!1;var S=a.data,h=c.errorStep=S.errorStep;if(c.nextStep=S.currentStep,h)c.refuseReason=S.refuseReason,c.currentStep=h,c.confirm({type:"confirm",title:"",content:"抱歉，审核不通过，请修改后重新提交",okText:"马上修改",cancelText:"稍后修改，先退出",callback:function(c,a){a||(location.href="login.html"),c.visible=!1}});else if(7===S.currentStep)location.href=c.loginUrl;else if(c.currentStep=S.currentStep,c.currentStep>1){var g=c;c.confirm({type:"confirm",title:"",content:"上次退出时，您正在操作:"+g.items[S.currentStep-1],okText:"继续完成",cancelText:"稍后继续，先退出",callback:function(c,a){a||(location.href="login.html"),c.visible=!1}})}},function(a){c.isInit=!1,c.toast({content:a.statusText,type:"warn"})})}})});