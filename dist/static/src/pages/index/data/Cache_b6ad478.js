define("src/pages/index/data/Cache",function(require,exports,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var h=function(h){var a=h.max,v=h.load,c=h.getKey;this.load=v,this.getKey=c||function(h){return h},this.max=a||10,this.len=0,this.newest=null,this.oldest=null,this.map={},this.temp={}};h.prototype.getValue=function(h){var a=this,v=this.getKey(h),c=this.map[v];if(c)return this.sort(c),Promise.resolve({key:v,value:c.value});var t=this.temp[v];if(t)return t;var y=this.load(h).then(function(h){return a.add(v,h),{key:v,value:h}});return this.temp[v]=y,y},h.prototype.sort=function(h){this.newest&&(this.newest.next=h),this.newest=h,h.prev=this.newest,h.next=null,this.oldest&&this.oldest===h&&(this.oldest=this.oldest.next)},h.prototype.add=function(h,a){delete this.temp[h];var v=this.newest,c=this.map[h]={next:null,prev:v,value:a};v&&(v.next=c),this.newest=c,this.oldest&&(this.oldest=c),this.len<this.max?this.len+=1:this.oldest=this.oldest&&this.oldest.next},exports["default"]=h,module.exports=exports["default"]});