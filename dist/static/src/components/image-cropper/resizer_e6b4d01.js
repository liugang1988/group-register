define("src/components/image-cropper/resizer",function(require,exports,module){"use strict";function a(a){return a&&a.__esModule?a:{"default":a}}function h(a){for(var h in a)S.call(a,h)&&(this[h]=a[h])}Object.defineProperty(exports,"__esModule",{value:!0});var g=require("src/components/image-cropper/build-dom"),c=a(g),v=require("src/components/image-cropper/draggable"),z=a(v),S=Object.prototype.hasOwnProperty,b={n:{top:!0,height:-1},w:{left:!0,width:-1},e:{width:1},s:{height:1},nw:{left:!0,top:!0,width:-1,height:-1},ne:{top:!0,width:1,height:-1},sw:{left:!0,width:-1,height:1},se:{width:1,height:1}},w=function(a){var h=a.getBoundingClientRect(),g=a.offsetParent.getBoundingClientRect();return{left:h.left-g.left,top:h.top-g.top}};h.prototype.doOnStateChange=function(a){},h.prototype.makeDraggable=function(a){var h=this,g={},c=void 0;z["default"](a,{start:function(h){var v=a.parentNode;c={left:0,top:0,width:v.clientWidth,height:v.clientHeight,right:v.clientWidth,bottom:v.clientHeight},g.startLeft=h.clientX,g.startTop=h.clientY;var z=w(a);g.resizerStartLeft=z.left,g.resizerStartTop=z.top,g.resizerStartWidth=a.offsetWidth,g.resizerStartHeight=a.offsetHeight},drag:function(v){var z=v.clientX-g.startLeft,S=v.clientY-g.startTop,b=g.resizerStartLeft+z,w=g.resizerStartTop+S;b<c.left&&(b=c.left),w<c.top&&(w=c.top),b+g.resizerStartWidth>c.right&&(b=c.right-g.resizerStartWidth),w+g.resizerStartHeight>c.bottom&&(w=c.bottom-g.resizerStartHeight),a.style.left=b+"px",a.style.top=w+"px",h.doOnStateChange()},end:function(){g={},h.doOnDragEnd&&h.doOnDragEnd()}})},h.prototype.bindResizeEvent=function(a){var h=this,g={},c=this.aspectRatio;"number"!=typeof c&&(c=void 0);var v=function(v){var S=v.className.split(" ")[0],y=b[S.substr(4)],N=void 0;z["default"](v,{start:function(h){var c=a.parentNode;N={left:0,top:0,width:c.clientWidth,height:c.clientHeight,right:c.clientWidth,bottom:c.clientHeight},g.startWidth=a.clientWidth,g.startHeight=a.clientHeight,g.startLeft=h.clientX,g.startTop=h.clientY;var v=w(a);g.resizerStartLeft=v.left,g.resizerStartTop=v.top},drag:function(v){var z=y.width,b=y.height,w=v.clientX-g.startLeft,H=v.clientY-g.startTop,W=void 0,L=void 0,O=h.minWidth||10,T=h.maxWidth||1e4,C=h.minHeight||10,D=h.maxHeight||1e4;void 0!==z&&(W=g.startWidth+z*w,O>W&&(W=O),T&&W>T&&(W=T)),void 0!==b&&(L=g.startHeight+b*H,C>L&&(L=C),D&&L>D&&(L=D)),void 0!==c&&("ord-n"===S||"ord-s"===S?W=L*c:"ord-w"===S||"ord-e"===S?L=W/c:c>W/L?L=W/c:W=L*c);var E={left:g.resizerStartLeft,top:g.resizerStartTop};void 0!==y.left&&(E.left=g.resizerStartLeft+(W-g.startWidth)*z),void 0!==y.top&&(E.top=g.resizerStartTop+(L-g.startHeight)*b),W+E.left>N.right&&(W=N.right-E.left),E.left<N.left&&(W-=N.left-E.left,E.left=N.left),L+E.top>N.bottom&&(L=N.bottom-E.top),E.top<N.top&&(L-=N.top-E.top,E.top=N.top),void 0!==c&&(c>W/L?L=W/c:W=L*c),void 0!==y.left&&(E.left=g.resizerStartLeft+(W-g.startWidth)*z),void 0!==y.top&&(E.top=g.resizerStartTop+(L-g.startHeight)*b),a.style.width=W+"px",a.style.height=L+"px",void 0!==E.left&&(a.style.left=E.left+"px"),void 0!==E.top&&(a.style.top=E.top+"px"),h.doOnStateChange()},end:function(){h.doOnDragEnd&&h.doOnDragEnd()}})},S=a.querySelectorAll(".resize-bar"),y=a.querySelectorAll(".resize-handle"),i=void 0,N=void 0;for(i=0,N=S.length;N>i;i++)v(S[i]);for(i=0,N=y.length;N>i;i++)v(y[i])},h.prototype.render=function(a){var h=c["default"]({tag:"div",className:"resizer",content:[{tag:"div",className:"ord-n resize-bar"},{tag:"div",className:"ord-s resize-bar"},{tag:"div",className:"ord-w resize-bar"},{tag:"div",className:"ord-e resize-bar"},{tag:"div",className:"ord-nw resize-handle"},{tag:"div",className:"ord-n resize-handle"},{tag:"div",className:"ord-ne resize-handle"},{tag:"div",className:"ord-w resize-handle"},{tag:"div",className:"ord-e resize-handle"},{tag:"div",className:"ord-sw resize-handle"},{tag:"div",className:"ord-s resize-handle"},{tag:"div",className:"ord-se resize-handle"}]});return this.dom=h,this.bindResizeEvent(h),this.makeDraggable(h),a&&a.appendChild(h),h},exports["default"]=h,module.exports=exports["default"]});